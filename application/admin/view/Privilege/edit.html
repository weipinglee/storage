
<div class="row" id="priv">
    <div class="col-sm-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>修改权限 <small>请先编辑上级权限</small></h5>
                <h5><small style="color: red">非管理人员，请不要操作此页！</small></h5>
            </div>
            <div class="ibox-content">
                <form method="post" class="form-horizontal" action="{:url('admin/privilege/edit')}" auto_submit="1" redirect_url="{:url('admin/privilege/lst')}">
                    <input type="hidden" class="form-control" name="id" :value="privRow.id" />

                    <div class="form-group has-error">
                        <label class="col-sm-2 control-label">上级权限：</label>
                        <div class="col-sm-10">
                            <select class="form-control m-b" name="parent_id" style="width: 50%;">
                                <option value="0" >顶级权限</option>
                                <option v-for="priv in privs" v-bind:value="priv.id" v-bind:selected="priv.selected">
                                    {{priv.pre}}{{priv.pri_name}}
                                </option>

                            </select>
                        </div>
                    </div>
                    <div class="hr-line-dashed"></div>

                    <div class="form-group">
                        <label class="col-sm-2 control-label">权限名称：</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="pri_name" style="width: 50%;" :value="privRow.pri_name" />
                            <span class="help-block m-b-none" style="font-size: 12px;color: darkgrey;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        </div>

                        <label class="col-sm-2 control-label">模块名称：</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="module_name" style="width: 50%;" :value="privRow.module_name" />
                            <span class="help-block m-b-none" style="font-size: 12px;color: darkgrey;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        </div>

                        <label class="col-sm-2 control-label">控制器名：</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="controller" style="width: 50%;" :value="privRow.controller" />
                            <span class="help-block m-b-none" style="font-size: 12px;color: darkgrey;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        </div>

                        <label class="col-sm-2 control-label">方法名称：</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="action_name" style="width: 50%;" :value="privRow.action_name" />
                            <span class="help-block m-b-none" style="font-size: 12px;color: darkgrey;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        </div>
                    </div>

                    <div class="hr-line-dashed"></div>
                    <div class="form-group">
                        <div class="col-sm-4 col-sm-offset-2">
                            <button class="btn btn-primary" type="submit">保存</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="__PUBLIC__ADMIN/js/project/privilege.js" ></script>
<script type="text/javascript">


    priVue.url.privs_list = "{:url('priv_list')}";
    priVue.pre_label = '--';
    priVue.privRow['id'] = {$id};
    priVue.getPrivs();
   //priVue.getOnePriv(6)

   // setTimeout("priVue.getOnePriv(6)",2000);




</script>
